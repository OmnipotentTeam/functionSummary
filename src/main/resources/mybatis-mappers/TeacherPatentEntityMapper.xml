<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhxx.service.szxt.mapper.TeacherPatentEntityMapper">
  <resultMap id="BaseResultMap" type="com.zhxx.service.szxt.entity.TeacherPatentEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="id" jdbcType="VARCHAR" property="id" />
    <result column="designer" jdbcType="VARCHAR" property="designer" />
    <result column="ranking" jdbcType="VARCHAR" property="ranking" />
    <result column="patent_person" jdbcType="VARCHAR" property="patentPerson" />
    <result column="right_categories" jdbcType="VARCHAR" property="rightCategories" />
    <result column="applying_date" jdbcType="TIMESTAMP" property="applyingDate" />
    <result column="anno_date" jdbcType="TIMESTAMP" property="annoDate" />
    <result column="patent_number" jdbcType="VARCHAR" property="patentNumber" />
    <result column="patent_name" jdbcType="VARCHAR" property="patentName" />
    <result column="operator" jdbcType="VARCHAR" property="operator" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="modify_time" jdbcType="TIMESTAMP" property="modifyTime" />
  </resultMap>
   <sql id="Base_Column_List">
    id, designer, ranking, patent_person, right_categories, applying_date, anno_date, 
    patent_number, patent_name,operator, create_time, modify_time
  </sql>
  <insert id="insert" parameterType="com.zhxx.service.szxt.entity.TeacherPatentEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into teacher_patent (id, designer, ranking, 
      patent_person, right_categories, applying_date, 
      anno_date, patent_number, patent_name, 
      operator, create_time, modify_time
      )
    values (#{id,jdbcType=VARCHAR}, #{designer,jdbcType=VARCHAR}, #{ranking,jdbcType=VARCHAR}, 
      #{patentPerson,jdbcType=VARCHAR}, #{rightCategories,jdbcType=VARCHAR}, #{applyingDate,jdbcType=TIMESTAMP}, 
      #{annoDate,jdbcType=TIMESTAMP}, #{patentNumber,jdbcType=VARCHAR}, #{patentName,jdbcType=VARCHAR}, 
      #{operator,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP}, #{modifyTime,jdbcType=TIMESTAMP}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.zhxx.service.szxt.entity.TeacherPatentEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into teacher_patent
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="designer != null">
        designer,
      </if>
      <if test="ranking != null">
        ranking,
      </if>
      <if test="patentPerson != null">
        patent_person,
      </if>
      <if test="rightCategories != null">
        right_categories,
      </if>
      <if test="applyingDate != null">
        applying_date,
      </if>
      <if test="annoDate != null">
        anno_date,
      </if>
      <if test="patentNumber != null">
        patent_number,
      </if>
      <if test="patentName != null">
        patent_name,
      </if>
      <if test="operator != null">
        operator,
      </if>
      <if test="createTime != null">
        create_time,
      </if>
      <if test="modifyTime != null">
        modify_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="designer != null">
        #{designer,jdbcType=VARCHAR},
      </if>
      <if test="ranking != null">
        #{ranking,jdbcType=VARCHAR},
      </if>
      <if test="patentPerson != null">
        #{patentPerson,jdbcType=VARCHAR},
      </if>
      <if test="rightCategories != null">
        #{rightCategories,jdbcType=VARCHAR},
      </if>
      <if test="applyingDate != null">
        #{applyingDate,jdbcType=TIMESTAMP},
      </if>
      <if test="annoDate != null">
        #{annoDate,jdbcType=TIMESTAMP},
      </if>
      <if test="patentNumber != null">
        #{patentNumber,jdbcType=VARCHAR},
      </if>
      <if test="patentName != null">
        #{patentName,jdbcType=VARCHAR},
      </if>
      <if test="operator != null">
        #{operator,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyTime != null">
        #{modifyTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.zhxx.service.szxt.entity.TeacherPatentEntity">
  
  update teacher_patent
  <set>
   <if test="designer != null">
      designer = #{designer,jdbcType=VARCHAR},
    </if>
    <if test="ranking != null">
      ranking = #{ranking,jdbcType=VARCHAR},
    </if>
    <if test="patentPerson != null">
      patent_person = #{patentPerson,jdbcType=VARCHAR},
    </if>
    <if test="rightCategories != null">
      right_categories = #{rightCategories,jdbcType=VARCHAR},
    </if>
    <if test="applyingDate != null">
      applying_date = #{applyingDate,jdbcType=TIMESTAMP},
    </if>
    <if test="annoDate != null">
      anno_date = #{annoDate,jdbcType=TIMESTAMP},
    </if>
    <if test="patentNumber != null">
      patent_number = #{patentNumber,jdbcType=VARCHAR},
    </if>
    <if test="patentName != null">
      patent_name = #{patentName,jdbcType=VARCHAR},
    </if>
    <if test="operator != null">
      operator = #{operator,jdbcType=VARCHAR},
    </if>
    <if test="createTime != null">
      create_time = #{createTime,jdbcType=TIMESTAMP},
    </if>
    <if test="modifyTime != null">
      modify_time = #{modifyTime,jdbcType=TIMESTAMP},
    </if>
  </set>
     where id = #{id,jdbcType=VARCHAR}
  </update>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from teacher_patent
    where id = #{id,jdbcType=VARCHAR}
  </delete>
  <select id="selectList" parameterType="com.zhxx.service.szxt.entity.TeacherPatentEntity" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from teacher_patent
    <where>
   <if test="id != null and id != ''">
          and id = #{id,jdbcType=VARCHAR}
    </if>
    <if test="operator != null and operator != ''">
          and operator = #{operator,jdbcType=VARCHAR}
    </if>
    </where>
  </select>
   <sql id="Base_Column_List1">
	    id, designer, ranking, patent_person, right_categories, applying_date, anno_date, 
	    patent_number, patent_name,operator
   </sql>
   <select id="queryForExcel" parameterType="com.zhxx.service.szxt.entity.TeacherUserEntity" resultMap="BaseResultMap">
    SELECT
		  <include refid="Base_Column_List1" />
	FROM
	    teacher_user tu
	LEFT JOIN teacher_patent tpa on tu.teacher_id = tpa.operator
    <where>
      tpa.id IS NOT NULL
      <if test="teacherId != null and teacherId != ''">
         and tu.teacher_id = #{teacherId,jdbcType=VARCHAR}
      </if>
      <if test="teacherNo != null and teacherNo != ''">
          and tu.teacher_no LIKE '%${teacherNo}%'
      </if>
      <if test="college != null and college != ''">
         and tu.college = #{college,jdbcType=VARCHAR}
      </if>
      <if test="major != null and major != ''">
         and tu.major = #{major,jdbcType=VARCHAR}
      </if>
      <if test="userName != null and userName != ''">
         and tu.user_name LIKE '%${userName}%'
      </if>
    </where>
  </select>
  
</mapper>